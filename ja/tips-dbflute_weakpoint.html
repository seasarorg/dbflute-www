<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- don't edit start -->
<head>
<title>Seasar - DI Container with AOP - </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link href="seasar_b.css" type="text/css" rel="stylesheet" media="screen" />
<link href="seasar_p.css" type="text/css" rel="stylesheet" media="print" />
<script src="seasar_b.js" type="text/JavaScript" language="JavaScript"></script>
</head>
<body onload="preload('ja')">
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="left"><tr>
<td align="left" valign="top" width="780"><table width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr><td colspan="7"><img height="5" width="780" src="images/top01_b.gif" alt=""></td></tr>
<tr><td><img height="117" width="235" src="images/top02_b.gif" alt="Seasar"></td>
<td colspan="3"><img height="117" width="289" src="images/top03.gif" alt="DI Container with AOP"></td>
<td colspan="3"><img height="117" width="256" src="images/spacer.gif" alt=""></td>
</tr><tr><td rowspan="2"><img src="images/top04.gif" alt="" height="49" width="235"></td>
<td><a href="http://www.seasar.org/index.html"><img src="images/menu01_b_ja.gif" height="30" width="78" border="0" alt="" id="menu01" onmouseover="swap(1)" onmouseout="restore(1)"></a></td>
<td><a href="http://www.seasar.org/projects.html"><img src="images/menu02_b_ja.gif" height="30" width="101" border="0" alt="" id="menu02" onmouseover="swap(2)" onmouseout="restore(2)"></a></td>
<td><a href="http://www.seasar.org/products.html"><img src="images/menu03_b_ja.gif" height="30" width="110" border="0" alt="" id="menu03" onmouseover="swap(3)" onmouseout="restore(3)"></a></td>
<td><a href="http://www.seasar.org/resources.html"><img src="images/menu04_b_ja.gif" height="30" width="113" border="0" alt="" id="menu04" onmouseover="swap(4)" onmouseout="restore(4)"></a></td>
<td><img src="images/menu05_b_ja.gif" height="30" width="109" border="0" alt="" id="menu05" onmouseover="swap(5)" onmouseout="restore(5)"></td>
<td><img height="30" width="34" src="images/menu06.gif" alt=""></td></tr><tr>
<td colspan="6"><img height="19" width="545" src="images/spacer.gif" alt=""></td></tr></table>
<table  width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr align="left" valign="top"><td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td><td width="740" class="main">
<!-- don't edit end -->
<!-- document start -->
<p>
<a href="index.html">to Top</a>
<p><b>
DBFluteの弱点について記述します。
<p></b>
<pre>


// ======================================================================================================
//                                                                                             DB設計のNG
//                                                                                             ==========

DB設計において、DBFluteを使う上でのNGについて記述します。


// ---------------------------------------------------
//                    Table名・Column名に'-'(ハイフン)
//                    --------------------------------

っダメです。｛Class名やMethod名で利用できないため｝


// ======================================================================================================
//                                                                                    DB設計のDeprecation
//                                                                                    ===================

DB設計において、DBFluteを使う上での非推奨について記述します。


// ---------------------------------------------------
//                                    PK制約を貼らない
//                                    ----------------

S2Daoの仕様ですが、PKが無いものはInsert/Update/Deleteができません。


// ---------------------------------------------------
//                                    FK制約が全く無い
//                                    ----------------

ConditionBeanによる結合が全くできなくなります。
どうしてもFKを貼ることができない場合は、additionalForeignKeyで擬似のFKをDBFluteに認識させることができます。
  → <a href="./advance_properties.html">Advance Properties</a>


// ---------------------------------------------------
//                                Unique制約を貼らない
//                                --------------------

Uniqueと明らかなものはUnique制約を貼ることをお勧めします。

ex)
  Table: AAA - {AAA_ID, AAA_NAME
  Table: BBB - {BBB_ID, AAA_ID}

  AAAとBBBは構造上は one-to-many なので、
  ConditionBeanにおいて 「BBB left outer join AAA」 はできても 「AAA left outer join BBB」はできません。
  ですが、もしData構造的に one-to-one になるのであれば、BBB.AAA_IDにUnique制約を貼ることによって、
  「AAA left outer join BBB」が可能になります。(DBFluteがone-to-oneを感知できるようになるため)


// ---------------------------------------------------
//                                Column名に規則がない
//                                --------------------

DBFluteにおける、Column名の規約を利用する横断的な設定と相性が悪くなります。

また、「BOOK_ID」 というようなColumnと 「BookName」 というようなColumnが混在すると
Java上において「setBOOK_ID()」というMethod、もしくは、「setBookname()」というMethodが
作成されてしまいます。どちらかに統一することをお奨めします。


// ---------------------------------------------------
//                                  Record長が長すぎる
//                                  ------------------

DBFluteに限らずO/R-Mapper全てに言えることですが、結果をEntityで取得するため、
Record長が長いと「ほしくないColumnの値」をたくさん取得してしまう可能性があります。

DBFluteではちょっと裏技ちっくな感じですが、取得するColumnを指定することが可能です。

	ex) BOOK_ID(PrimaryKey)とBOOK_NAMEだけをSELECTする。
	/- - - - - - - - - - - - - - - - - - - - 
	final LdBookCB cb = new LdBookCB();
	cb.limitSelect_PKOnly();
	cb.query().includeAsMine_BookName();
	... = dao.selectList(cb);
	- - - - - - - -/

但し、この場合setupSelect_Xxx()と併用することはできません。
いざってときの裏技くらいにして、やはりRecord長はあまり長くない方がいいでしょう。



// ======================================================================================================
//                                                                                             足りてない
//                                                                                             ==========

DBFluteの「足りてない」ことを記述します。
ただ、ちょっとずつ改善をしていくつもりです。


// ---------------------------------------------------
//                        根本的にDocumentが足りてない
//                        ----------------------------

わからない場合はすぐに聞いてください(本当に些細なことでも)。
  → SeasarMLに出しづらいのであれば、http://d.hatena.ne.jp/jflute/ へ


// ---------------------------------------------------
//                               Documentが全部preタグ
//                               ---------------------

今は体裁よりもSpeedと量が重要だと思っていまして...すいません


// ---------------------------------------------------
//                            build.propertiesのPlugin
//                            ------------------------

build.propertiesを設定するのは気力が要ります。

特に初回の自動生成のための儀式が大変です。
<a href="./basic_properties.html">Basic Properties</a> をみて、良く吟味する必要があります。
Projectの開始時点において、「誰か一人が頑張ることによって他の開発者が楽をできる」
というボランティア風に考えることをお奨めします。(その頑張る一人の方へ)

EclipseのPluginを作って、入力支援などをしたいなと考えております。


// ---------------------------------------------------
//                                     JavaDoc-Comment
//                                     ---------------

付いてないMethodがまだ多くあります。
また、Commentが詳細でないものも多くあります。


// ---------------------------------------------------
//                             複数DB利用時のallcommon
//                             -----------------------

複数DB利用時に「ほとんど機能は一緒でPackageだけが違うClass」が重複してしまいます。
問題があるわけではありませんが、補完する場合や同じClassで互いを利用する場合に
いわゆる「java.sql.Date/java.util.Date問題」は発生します。

dbflute.jarなどを作って、完全に共通のClassは別のJARにすることも検討していますが、
現時点では保留しています。{2007/04/07}

projectPrefixを使って、DBごとに違うPrefixを付けて区別する方法を推奨します。


</pre>
</p>

<!-- document end -->
</html>
